<template>
    <lightning-card icon-name="standard:feed">
        <h1 slot="title">Stock Realtime</h1>
        <div slot="actions">
            <lightning-layout>
                <lightning-layout-item>
                    <input
                        id="searchInput"
                        type="text"
                        class="slds-input symbol-input"
                        onkeyup={handleSymbolChange}
                    />
                </lightning-layout-item>
                <lightning-layout-item>
                    <lightning-button
                        label="Add Stock for View in Real Time"
                        onclick={getStock}
                    ></lightning-button>
                </lightning-layout-item>
            </lightning-layout>
        </div>

        <div if:false={error}>
            <div if:true={stock} class="content">    
                <lightning-formatted-rich-text value={table}></lightning-formatted-rich-text>   
                <!--           
                <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered">
                        <thead>
                            <tr class="slds-line-height_reset">
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Symbol">SYMBOL</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Open">OPEN</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Price">PRICE</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="High">HIGH</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Confidence">LOW</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="slds-hint-parent">
                                <th data-label="Symbol" scope="row">
                                    <div class="slds-truncate" title={stock.symbol}>{stock.symbol}</div>
                                </th>
                                <td data-label="Open">
                                    <div class="slds-truncate" title={stock.open}>{stock.open}</div>
                                </td>
                                <td data-label="Price">
                                    <div class="slds-truncate" title={stock.price}>{stock.price}</div>
                                </td>
                                <td data-label="High">
                                    <div class="slds-truncate" title={stock.high}>{stock.high}</div>
                                </td>
                                <td data-label="Low">
                                    <div class="slds-truncate" title={stock.low}>{stock.low}</div>
                                </td>                                
                            </tr>                            
                        </tbody>
                    </table>
                    -->
            </div>
            <div if:false={stock} class="content">
                No stock symbol entered
            </div>
            <!--
            <div if:true={row} class="content">
                    <lightning-formatted-rich-text value={table}></lightning-formatted-rich-text>              
            </div>
            -->

        </div>
        <div if:true={error}>
            <c-error-panel errors={error}></c-error-panel>
        </div>
    </lightning-card>
</template>